import{p as ke,m as _e,g as Ve,h as Ce,i as ye,j as be,k as Se,u as Te,r as b,l as G,n as S,q as Le,s as we,v as Ee,x as Ie,y as $,z as Ae,A as ee,e as t,F as B,B as De,C as V,D as oe,E as Q,G as Pe,H as T,I as Re,J as Fe,K as f,L as Oe,M as te,N as Ue,_ as Me,O as Y,o as w,P as ae,w as l,Q as Be,R as Ne,b as C,S as P,t as le,V as ne,T as He,f as je,U as Ke,W as ze,a as Ge,X as q,Y as Ye,Z as se,$ as qe,c as M,a0 as Je,a1 as Qe,d as J}from"./index-27d70d11.js";import{V as R,a as ue}from"./VTooltip-b4f63c94.js";function We(e,s,n){if(s==null)return e;if(Array.isArray(s))throw new Error("Multiple matches is not implemented");return typeof s=="number"&&~s?t(B,null,[t("span",{class:"v-autocomplete__unmask"},[e.substr(0,s)]),t("span",{class:"v-autocomplete__mask"},[e.substr(s,n)]),t("span",{class:"v-autocomplete__unmask"},[e.substr(s+n)])]):e}const Xe=ke({search:String,..._e({filterKeys:["title"]}),...Ve(),...Ce(ye({modelValue:null}),["validationValue","dirty","appendInnerIcon"]),...be({transition:!1})},"v-autocomplete"),Ze=Se()({name:"VAutocomplete",props:Xe(),emits:{"update:focused":e=>!0,"update:search":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,s){let{slots:n}=s;const{t:W}=Te(),r=b(),h=b(!1),x=b(!0),F=b(),E=G(e,"menu"),u=S({get:()=>E.value,set:a=>{var d;E.value&&!a&&((d=F.value)!=null&&d.Î¨openChildren)||(E.value=a)}}),o=b(-1),X=S(()=>{var a;return(a=r.value)==null?void 0:a.color}),{items:N,transformIn:re,transformOut:ie}=Le(e),{textColorClasses:ce,textColorStyles:de}=we(X),v=G(e,"search",""),k=G(e,"modelValue",[],a=>re(Ue(a)),a=>{const d=ie(a);return e.multiple?d:d[0]??null}),L=Ee(),{filteredItems:H,getMatches:fe}=Ie(e,N,S(()=>x.value?void 0:v.value)),_=S(()=>k.value.map(a=>N.value.find(d=>e.valueComparator(d.value,a.value))||a)),j=S(()=>e.hideSelected?H.value.filter(a=>!_.value.some(d=>d.value===a.value)):H.value),K=S(()=>_.value.map(a=>a.props.value)),Z=S(()=>_.value[o.value]),z=b();function ve(a){e.openOnClear&&(u.value=!0),v.value=""}function ge(){e.hideNoData&&!N.value.length||e.readonly||L!=null&&L.isReadonly.value||(u.value=!0)}function he(a){var O,c,m,y;if(e.readonly||L!=null&&L.isReadonly.value)return;const d=r.value.selectionStart,p=K.value.length;if((o.value>-1||["Enter","ArrowDown","ArrowUp"].includes(a.key))&&a.preventDefault(),["Enter","ArrowDown"].includes(a.key)&&(u.value=!0),["Escape"].includes(a.key)&&(u.value=!1),["Enter","Escape","Tab"].includes(a.key)&&(x.value=!0),a.key==="ArrowDown"?(O=z.value)==null||O.focus("next"):a.key==="ArrowUp"&&((c=z.value)==null||c.focus("prev")),!!e.multiple){if(["Backspace","Delete"].includes(a.key)){if(o.value<0){a.key==="Backspace"&&!v.value&&(o.value=p-1);return}const i=o.value;Z.value&&A(Z.value),o.value=i>=p-1?p-2:i}if(a.key==="ArrowLeft"){if(o.value<0&&d>0)return;const i=o.value>-1?o.value-1:p-1;_.value[i]?o.value=i:(o.value=-1,r.value.setSelectionRange((m=v.value)==null?void 0:m.length,(y=v.value)==null?void 0:y.length))}if(a.key==="ArrowRight"){if(o.value<0)return;const i=o.value+1;_.value[i]?o.value=i:(o.value=-1,r.value.setSelectionRange(0,0))}}}function pe(a){v.value=a.target.value}function me(){var a;h.value&&(x.value=!0,(a=r.value)==null||a.focus())}function xe(a){h.value=!0}const I=b(!1);function A(a){if(e.multiple){const d=K.value.findIndex(p=>e.valueComparator(p,a.value));if(d===-1)k.value=[...k.value,a];else{const p=[...k.value];p.splice(d,1),k.value=p}}else k.value=[a],I.value=!0,v.value=a.title,u.value=!1,x.value=!0,te(()=>I.value=!1)}return $(h,a=>{var d;a?(I.value=!0,v.value=e.multiple?"":String(((d=_.value.at(-1))==null?void 0:d.props.title)??""),x.value=!0,te(()=>I.value=!1)):(!e.multiple&&!v.value&&(k.value=[]),u.value=!1,v.value="",o.value=-1)}),$(v,a=>{!h.value||I.value||(a&&(u.value=!0),x.value=!a)}),Ae(()=>{const a=!!(e.chips||n.chip),d=!!(!e.hideNoData||j.value.length||n.prepend||n.append||n["no-data"]),p=k.value.length>0,[O]=ee.filterProps(e);return t(ee,V({ref:r},O,{modelValue:v.value,"onUpdate:modelValue":c=>{c==null&&(k.value=[])},focused:h.value,"onUpdate:focused":c=>h.value=c,validationValue:k.externalValue,dirty:p,onInput:pe,class:["v-autocomplete",`v-autocomplete--${e.multiple?"multiple":"single"}`,{"v-autocomplete--active-menu":u.value,"v-autocomplete--chips":!!e.chips,"v-autocomplete--selecting-index":o.value>-1},e.class],style:e.style,appendInnerIcon:e.menuIcon,readonly:e.readonly,placeholder:p?void 0:e.placeholder,"onClick:clear":ve,"onMousedown:control":ge,onKeydown:he}),{...n,default:()=>t(B,null,[t(De,V({ref:F,modelValue:u.value,"onUpdate:modelValue":c=>u.value=c,activator:"parent",contentClass:"v-autocomplete__content",eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterLeave:me},e.menuProps),{default:()=>[d&&t(oe,{ref:z,selected:K.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:c=>c.preventDefault(),onFocusin:xe},{default:()=>{var c,m,y;return[!j.value.length&&!e.hideNoData&&(((c=n["no-data"])==null?void 0:c.call(n))??t(Q,{title:W(e.noDataText)},null)),(m=n["prepend-item"])==null?void 0:m.call(n),j.value.map(i=>{var D;return((D=n.item)==null?void 0:D.call(n,{item:i,props:V(i.props,{onClick:()=>A(i)})}))??t(Q,V({key:i.value},i.props,{onClick:()=>A(i)}),{prepend:g=>{let{isSelected:U}=g;return t(B,null,[e.multiple&&!e.hideSelected?t(Pe,{modelValue:U,ripple:!1,tabindex:"-1"},null):void 0,i.props.prependIcon&&t(T,{icon:i.props.prependIcon},null)])},title:()=>{var g,U;return x.value?i.title:We(i.title,(g=fe(i))==null?void 0:g.title,((U=v.value)==null?void 0:U.length)??0)}})}),(y=n["append-item"])==null?void 0:y.call(n)]}})]}),_.value.map((c,m)=>{var D;function y(g){g.stopPropagation(),g.preventDefault(),A(c)}const i={"onClick:close":y,onMousedown(g){g.preventDefault(),g.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0};return t("div",{key:c.value,class:["v-autocomplete__selection",m===o.value&&["v-autocomplete__selection--selected",ce.value]],style:m===o.value?de.value:{}},[a?n.chip?t(Fe,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:c.title}}},{default:()=>{var g;return[(g=n.chip)==null?void 0:g.call(n,{item:c,index:m,props:i})]}}):t(Re,V({key:"chip",closable:e.closableChips,size:"small",text:c.title},i),null):((D=n.selection)==null?void 0:D.call(n,{item:c,index:m}))??t("span",{class:"v-autocomplete__selection-text"},[c.title,e.multiple&&m<_.value.length-1&&t("span",{class:"v-autocomplete__selection-comma"},[f(",")])])])})])})}),Oe({isFocused:h,isPristine:x,menu:u,search:v,filteredItems:H,select:A},r)}}),$e={data(){return{snackbarColor:"green",snackbarText:"",snackbar:!1,addDialog:!1,translatedLanguages:[],selectedLocale:"",languages:[],language:"",textExtractionStatus:{}}},methods:{getTranslatedLanguages(){fetch("/translator/getTranslatedLanguages").then(e=>{e.json().then(s=>{this.translatedLanguages=s;for(const n of this.translatedLanguages)this.textExtractionStatus[n.locale]={},this.textExtractionStatus[n.locale].active=!1,this.textExtractionStatus[n.locale].running=!1,this.textExtractionStatus[n.locale].displayStatus=!1})}).catch(e=>{console.log(e)})},selected(e){this.$router.push({path:"/review/"+e.locale})},populateTexts(){for(const e of this.translatedLanguages)this.textExtractionStatus[e.locale].active=!0;this.textExtractionStatus.en.running=!0,fetch("/translator/extractTexts/en").then(e=>{if(this.textExtractionStatus.en.running=!1,this.textExtractionStatus.en.displayStatus=!0,e.status===200)for(const s of this.translatedLanguages)s.locale!=="en"&&(this.textExtractionStatus[s.locale].active=!0,this.textExtractionStatus[s.locale].running=!0,fetch("/translator/extractTexts/"+s.locale).then(n=>{n.status===200&&(this.textExtractionStatus[s.locale].running=!1,this.textExtractionStatus[s.locale].displayStatus=!0)}).catch(()=>{this.textExtractionStatus[s.locale].running=!1,this.snackbar=!0,this.snackbarColor="red",this.snackbarText="Error Occured for English"}))}).catch(()=>{this.textExtractionStatus.en.running=!1,this.snackbar=!0,this.snackbarColor="red",this.snackbarText="Error Occured for English"})},getLanguages(){this.addDialog=!0,fetch("/translator/languages").then(e=>{e.json().then(s=>{this.languages=s})})},add(){fetch("/translator/addLanguage/"+this.language,{method:"POST"}).then(e=>{e.status===201?(this.addDialog=!1,this.getTranslatedLanguages(),this.snackbar=!0,this.snackbarColor="green",this.snackbarText="Language Added",this.emitter.emit("getLanguageList")):(this.snackbar=!0,this.snackbarColor="red",this.snackbarText="Error Occured")}).catch(()=>{this.snackbar=!0,this.snackbarColor="red",this.snackbarText="Error Occured"})}},created(){this.getTranslatedLanguages()}},et={class:"home",style:{"text-align":"center"}},tt=C("br",null,null,-1),at=C("br",null,null,-1),lt=C("br",null,null,-1),nt=C("br",null,null,-1),st={class:"text-h6"},ut=C("div",{class:"text-subtitle-2"},"Select to view",-1),ot=C("span",null,"Add New Language",-1),rt=C("span",null,"Populate languages with iHRIS Texts",-1);function it(e,s,n,W,r,h){const x=Y("v-list-item-content"),F=Y("v-list-item-group"),E=Y("center");return w(),ae("div",et,[f(" The iHRIS Translation App lets you translate the iHRIS interface into different languages that are supported by Google Translate. "),tt,f(" You may start by clicking on the plus sign below, selecting the language to translate to and clicking the add button."),at,f(" Once done with the translating, click come back to this page and click the upload option below. "),lt,nt,t(Be,{modelValue:r.snackbar,"onUpdate:modelValue":s[1]||(s[1]=u=>r.snackbar=u),timeout:"2000"},{action:l(({attrs:u})=>[t(P,V({color:r.snackbarColor,text:""},u,{onClick:s[0]||(s[0]=o=>r.snackbar=!1)}),{default:l(()=>[f(" Close ")]),_:2},1040,["color"])]),default:l(()=>[f(le(r.snackbarText)+" ",1)]),_:1},8,["modelValue"]),t(Ne,{transition:"dialog-top-transition","max-width":"600",modelValue:r.addDialog,"onUpdate:modelValue":s[3]||(s[3]=u=>r.addDialog=u)},{default:l(u=>[t(ne,null,{default:l(()=>[t(He,{color:"primary",dark:""},{default:l(()=>[f(" Select Language")]),_:1}),t(je,null,{default:l(()=>[C("div",st,[t(Ze,{modelValue:r.language,"onUpdate:modelValue":s[2]||(s[2]=o=>r.language=o),items:r.languages,"item-value":"locale","item-title":"name",dense:"",filled:"",label:"Languages"},null,8,["modelValue","items"])])]),_:1}),t(Ke,{class:"justify-end"},{default:l(()=>[t(P,{text:"",onClick:o=>u.value=!1},{default:l(()=>[t(T,null,{default:l(()=>[f("mdi-close")]),_:1}),f(" Close ")]),_:2},1032,["onClick"]),t(ze),t(P,{disabled:!r.language,text:"",onClick:h.add},{default:l(()=>[t(T,null,{default:l(()=>[f("mdi-plus")]),_:1}),f(" Add ")]),_:1},8,["disabled","onClick"])]),_:2},1024)]),_:2},1024)]),_:1},8,["modelValue"]),t(E,null,{default:l(()=>[t(ne,{class:"mx-auto","max-width":"400",tile:""},{default:l(()=>[t(Ge,{"primary-title":""},{default:l(()=>[t(q,null,{default:l(()=>[t(Ye,{dark:"",color:"primary"},{default:l(()=>[t(T,null,{default:l(()=>[f("mdi-google-translate")]),_:1}),f(" Enabled Languages")]),_:1})]),_:1}),t(q,null,{default:l(()=>[t(R,{cols:"7"},{default:l(()=>[ut]),_:1}),t(R,{cols:"2"},{default:l(()=>[t(ue,{top:""},{activator:l(({on:u,attrs:o})=>[t(P,V({class:"mx-2",rounded:"",fab:"",dark:"",color:"indigo",small:"",onClick:h.getLanguages},o,se(u)),{default:l(()=>[t(T,null,{default:l(()=>[f("mdi-plus")]),_:1})]),_:2},1040,["onClick"])]),default:l(()=>[ot]),_:1})]),_:1}),t(R,{cols:"2"},{default:l(()=>[t(ue,{top:""},{activator:l(({on:u,attrs:o})=>[t(P,V({class:"mx-2",rounded:"",fab:"",dark:"",color:"indigo",small:"",onClick:h.populateTexts},o,se(u)),{default:l(()=>[t(T,null,{default:l(()=>[f("mdi-publish")]),_:1})]),_:2},1040,["onClick"])]),default:l(()=>[rt]),_:1})]),_:1})]),_:1})]),_:1}),t(oe,{shaped:""},{default:l(()=>[t(F,{modelValue:r.selectedLocale,"onUpdate:modelValue":s[4]||(s[4]=u=>r.selectedLocale=u),color:"primary"},{default:l(()=>[(w(!0),ae(B,null,qe(r.translatedLanguages,(u,o)=>(w(),M(Q,{key:o},{default:l(()=>[t(x,null,{default:l(()=>[t(q,null,{default:l(()=>[t(R,null,{default:l(()=>[t(Je,{textContent:le(u.language),onClick:X=>h.selected(u)},null,8,["textContent","onClick"])]),_:2},1024),r.textExtractionStatus[u.locale].active?(w(),M(R,{key:0},{default:l(()=>[r.textExtractionStatus[u.locale].running?(w(),M(Qe,{key:0,color:"deep-purple accent-4",indeterminate:"",rounded:"",height:"6"})):J("",!0),r.textExtractionStatus[u.locale].displayStatus?(w(),M(T,{key:1},{default:l(()=>[f(" mdi-check ")]),_:1})):J("",!0)]),_:2},1024)):J("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})])}const ft=Me($e,[["render",it]]);export{ft as default};

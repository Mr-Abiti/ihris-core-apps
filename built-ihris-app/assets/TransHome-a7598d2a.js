import{p as be,m as Se,g as Te,h as Le,i as we,j as Ee,k as De,u as Ae,r as T,l as q,n as L,q as Ie,s as Pe,v as Re,x as Oe,y as le,z as Fe,A as $,e,F as M,B as Ne,C,D as fe,E as ee,G as Ue,H as x,I as Me,J as Be,K as c,L as He,M as ne,N as je,_ as Ge,O as Y,o as E,P as ue,w as a,Q as Ke,R as oe,b as V,S as b,t as se,V as J,T as re,f as ie,U as ce,W as de,a as ze,X as Q,Y as qe,Z as W,$ as Ye,c as U,a0 as Je,a1 as Qe,d as X}from"./index-694fac7e.js";import{V as D,a as Z}from"./VTooltip-e5a927db.js";function We(t,n,o){if(n==null)return t;if(Array.isArray(n))throw new Error("Multiple matches is not implemented");return typeof n=="number"&&~n?e(M,null,[e("span",{class:"v-autocomplete__unmask"},[t.substr(0,n)]),e("span",{class:"v-autocomplete__mask"},[t.substr(n,o)]),e("span",{class:"v-autocomplete__unmask"},[t.substr(n+o)])]):t}const Xe=be({search:String,...Se({filterKeys:["title"]}),...Te(),...Le(we({modelValue:null}),["validationValue","dirty","appendInnerIcon"]),...Ee({transition:!1})},"v-autocomplete"),Ze=De()({name:"VAutocomplete",props:Xe(),emits:{"update:focused":t=>!0,"update:search":t=>!0,"update:modelValue":t=>!0,"update:menu":t=>!0},setup(t,n){let{slots:o}=n;const{t:te}=Ae(),r=T(),g=T(!1),k=T(!0),O=T(),A=q(t,"menu"),u=L({get:()=>A.value,set:l=>{var f;A.value&&!l&&((f=O.value)!=null&&f.Î¨openChildren)||(A.value=l)}}),s=T(-1),B=L(()=>{var l;return(l=r.value)==null?void 0:l.color}),{items:H,transformIn:ve,transformOut:ge}=Ie(t),{textColorClasses:me,textColorStyles:pe}=Pe(B),v=q(t,"search",""),_=q(t,"modelValue",[],l=>ve(je(l)),l=>{const f=ge(l);return t.multiple?f:f[0]??null}),w=Re(),{filteredItems:j,getMatches:he}=Oe(t,H,L(()=>k.value?void 0:v.value)),y=L(()=>_.value.map(l=>H.value.find(f=>t.valueComparator(f.value,l.value))||l)),G=L(()=>t.hideSelected?j.value.filter(l=>!y.value.some(f=>f.value===l.value)):j.value),K=L(()=>y.value.map(l=>l.props.value)),ae=L(()=>y.value[s.value]),z=T();function ke(l){t.openOnClear&&(u.value=!0),v.value=""}function _e(){t.hideNoData&&!H.value.length||t.readonly||w!=null&&w.isReadonly.value||(u.value=!0)}function xe(l){var F,d,h,S;if(t.readonly||w!=null&&w.isReadonly.value)return;const f=r.value.selectionStart,p=K.value.length;if((s.value>-1||["Enter","ArrowDown","ArrowUp"].includes(l.key))&&l.preventDefault(),["Enter","ArrowDown"].includes(l.key)&&(u.value=!0),["Escape"].includes(l.key)&&(u.value=!1),["Enter","Escape","Tab"].includes(l.key)&&(k.value=!0),l.key==="ArrowDown"?(F=z.value)==null||F.focus("next"):l.key==="ArrowUp"&&((d=z.value)==null||d.focus("prev")),!!t.multiple){if(["Backspace","Delete"].includes(l.key)){if(s.value<0){l.key==="Backspace"&&!v.value&&(s.value=p-1);return}const i=s.value;ae.value&&P(ae.value),s.value=i>=p-1?p-2:i}if(l.key==="ArrowLeft"){if(s.value<0&&f>0)return;const i=s.value>-1?s.value-1:p-1;y.value[i]?s.value=i:(s.value=-1,r.value.setSelectionRange((h=v.value)==null?void 0:h.length,(S=v.value)==null?void 0:S.length))}if(l.key==="ArrowRight"){if(s.value<0)return;const i=s.value+1;y.value[i]?s.value=i:(s.value=-1,r.value.setSelectionRange(0,0))}}}function Ve(l){v.value=l.target.value}function Ce(){var l;g.value&&(k.value=!0,(l=r.value)==null||l.focus())}function ye(l){g.value=!0}const I=T(!1);function P(l){if(t.multiple){const f=K.value.findIndex(p=>t.valueComparator(p,l.value));if(f===-1)_.value=[..._.value,l];else{const p=[..._.value];p.splice(f,1),_.value=p}}else _.value=[l],I.value=!0,v.value=l.title,u.value=!1,k.value=!0,ne(()=>I.value=!1)}return le(g,l=>{var f;l?(I.value=!0,v.value=t.multiple?"":String(((f=y.value.at(-1))==null?void 0:f.props.title)??""),k.value=!0,ne(()=>I.value=!1)):(!t.multiple&&!v.value&&(_.value=[]),u.value=!1,v.value="",s.value=-1)}),le(v,l=>{!g.value||I.value||(l&&(u.value=!0),k.value=!l)}),Fe(()=>{const l=!!(t.chips||o.chip),f=!!(!t.hideNoData||G.value.length||o.prepend||o.append||o["no-data"]),p=_.value.length>0,[F]=$.filterProps(t);return e($,C({ref:r},F,{modelValue:v.value,"onUpdate:modelValue":d=>{d==null&&(_.value=[])},focused:g.value,"onUpdate:focused":d=>g.value=d,validationValue:_.externalValue,dirty:p,onInput:Ve,class:["v-autocomplete",`v-autocomplete--${t.multiple?"multiple":"single"}`,{"v-autocomplete--active-menu":u.value,"v-autocomplete--chips":!!t.chips,"v-autocomplete--selecting-index":s.value>-1},t.class],style:t.style,appendInnerIcon:t.menuIcon,readonly:t.readonly,placeholder:p?void 0:t.placeholder,"onClick:clear":ke,"onMousedown:control":_e,onKeydown:xe}),{...o,default:()=>e(M,null,[e(Ne,C({ref:O,modelValue:u.value,"onUpdate:modelValue":d=>u.value=d,activator:"parent",contentClass:"v-autocomplete__content",eager:t.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:t.transition,onAfterLeave:Ce},t.menuProps),{default:()=>[f&&e(fe,{ref:z,selected:K.value,selectStrategy:t.multiple?"independent":"single-independent",onMousedown:d=>d.preventDefault(),onFocusin:ye},{default:()=>{var d,h,S;return[!G.value.length&&!t.hideNoData&&(((d=o["no-data"])==null?void 0:d.call(o))??e(ee,{title:te(t.noDataText)},null)),(h=o["prepend-item"])==null?void 0:h.call(o),G.value.map(i=>{var R;return((R=o.item)==null?void 0:R.call(o,{item:i,props:C(i.props,{onClick:()=>P(i)})}))??e(ee,C({key:i.value},i.props,{onClick:()=>P(i)}),{prepend:m=>{let{isSelected:N}=m;return e(M,null,[t.multiple&&!t.hideSelected?e(Ue,{modelValue:N,ripple:!1,tabindex:"-1"},null):void 0,i.props.prependIcon&&e(x,{icon:i.props.prependIcon},null)])},title:()=>{var m,N;return k.value?i.title:We(i.title,(m=he(i))==null?void 0:m.title,((N=v.value)==null?void 0:N.length)??0)}})}),(S=o["append-item"])==null?void 0:S.call(o)]}})]}),y.value.map((d,h)=>{var R;function S(m){m.stopPropagation(),m.preventDefault(),P(d)}const i={"onClick:close":S,onMousedown(m){m.preventDefault(),m.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0};return e("div",{key:d.value,class:["v-autocomplete__selection",h===s.value&&["v-autocomplete__selection--selected",me.value]],style:h===s.value?pe.value:{}},[l?o.chip?e(Be,{key:"chip-defaults",defaults:{VChip:{closable:t.closableChips,size:"small",text:d.title}}},{default:()=>{var m;return[(m=o.chip)==null?void 0:m.call(o,{item:d,index:h,props:i})]}}):e(Me,C({key:"chip",closable:t.closableChips,size:"small",text:d.title},i),null):((R=o.selection)==null?void 0:R.call(o,{item:d,index:h}))??e("span",{class:"v-autocomplete__selection-text"},[d.title,t.multiple&&h<y.value.length-1&&e("span",{class:"v-autocomplete__selection-comma"},[c(",")])])])})])})}),He({isFocused:g,isPristine:k,menu:u,search:v,filteredItems:j,select:P},r)}}),$e={data(){return{snackbarColor:"green",snackbarText:"",snackbar:!1,addDialog:!1,addOtherDialog:!1,translatedLanguages:[],selectedLocale:"",languages:[],language:"",textExtractionStatus:{}}},methods:{getTranslatedLanguages(){fetch("/translator/getTranslatedLanguages").then(t=>{t.json().then(n=>{this.translatedLanguages=n;for(const o of this.translatedLanguages)this.textExtractionStatus[o.locale]={},this.textExtractionStatus[o.locale].active=!1,this.textExtractionStatus[o.locale].running=!1,this.textExtractionStatus[o.locale].displayStatus=!1})}).catch(t=>{console.log(t)})},selected(t){this.$router.push({path:"/review/"+t.locale})},populateTexts(){for(const t of this.translatedLanguages)this.textExtractionStatus[t.locale].active=!0;this.textExtractionStatus.en.running=!0,fetch("/translator/extractTexts/en").then(t=>{if(this.textExtractionStatus.en.running=!1,this.textExtractionStatus.en.displayStatus=!0,t.status===200)for(const n of this.translatedLanguages)n.locale!=="en"&&(this.textExtractionStatus[n.locale].active=!0,this.textExtractionStatus[n.locale].running=!0,fetch("/translator/extractTexts/"+n.locale).then(o=>{o.status===200&&(this.textExtractionStatus[n.locale].running=!1,this.textExtractionStatus[n.locale].displayStatus=!0)}).catch(()=>{this.textExtractionStatus[n.locale].running=!1,this.snackbar=!0,this.snackbarColor="red",this.snackbarText="Error Occured for English"}))}).catch(()=>{this.textExtractionStatus.en.running=!1,this.snackbar=!0,this.snackbarColor="red",this.snackbarText="Error Occured for English"})},getLanguages(){this.addDialog=!0,fetch("/translator/languages").then(t=>{t.json().then(n=>{this.languages=n})})},add(){fetch("/translator/addLanguage/"+this.language,{method:"POST"}).then(t=>{t.status===201?(this.addDialog=!1,this.getTranslatedLanguages(),this.snackbar=!0,this.snackbarColor="green",this.snackbarText="Language Added",this.emitter.emit("getLanguageList")):(this.snackbar=!0,this.snackbarColor="red",this.snackbarText="Error Occured")}).catch(()=>{this.snackbar=!0,this.snackbarColor="red",this.snackbarText="Error Occured"})}},created(){this.getTranslatedLanguages()}},et={class:"home",style:{"text-align":"center"}},tt=V("br",null,null,-1),at=V("br",null,null,-1),lt=V("br",null,null,-1),nt=V("br",null,null,-1),ut={class:"text-h6"},ot={class:"text-h6"},st=V("div",{class:"text-subtitle-2"},"Select to view",-1),rt=V("span",null,"Add New Google Language",-1),it=V("span",null,"Add New Non-Google Language",-1),ct=V("span",null,"Populate languages with iHRIS Texts",-1);function dt(t,n,o,te,r,g){const k=Y("v-list-item-content"),O=Y("v-list-item-group"),A=Y("center");return E(),ue("div",et,[c(" The iHRIS Translation App lets you translate the iHRIS interface into different languages that are supported by Google Translate. "),tt,c(" You may start by clicking on the plus sign below, selecting the language to translate to and clicking the add button."),at,c(" Once done with the translating, click come back to this page and click the upload option below. "),lt,nt,e(Ke,{modelValue:r.snackbar,"onUpdate:modelValue":n[1]||(n[1]=u=>r.snackbar=u),timeout:"2000"},{action:a(({attrs:u})=>[e(b,C({color:r.snackbarColor,text:""},u,{onClick:n[0]||(n[0]=s=>r.snackbar=!1)}),{default:a(()=>[c(" Close ")]),_:2},1040,["color"])]),default:a(()=>[c(se(r.snackbarText)+" ",1)]),_:1},8,["modelValue"]),e(oe,{transition:"dialog-top-transition","max-width":"600",modelValue:r.addDialog,"onUpdate:modelValue":n[3]||(n[3]=u=>r.addDialog=u)},{default:a(u=>[e(J,null,{default:a(()=>[e(re,{color:"primary",dark:""},{default:a(()=>[c(" Select Language")]),_:1}),e(ie,null,{default:a(()=>[V("div",ut,[e(Ze,{modelValue:r.language,"onUpdate:modelValue":n[2]||(n[2]=s=>r.language=s),items:r.languages,"item-value":"locale","item-title":"name",dense:"",filled:"",label:"Languages"},null,8,["modelValue","items"])])]),_:1}),e(ce,{class:"justify-end"},{default:a(()=>[e(b,{text:"",onClick:s=>u.value=!1},{default:a(()=>[e(x,null,{default:a(()=>[c("mdi-close")]),_:1}),c(" Close ")]),_:2},1032,["onClick"]),e(de),e(b,{disabled:!r.language,text:"",onClick:g.add},{default:a(()=>[e(x,null,{default:a(()=>[c("mdi-plus")]),_:1}),c(" Add ")]),_:1},8,["disabled","onClick"])]),_:2},1024)]),_:2},1024)]),_:1},8,["modelValue"]),e(oe,{transition:"dialog-top-transition","max-width":"600",modelValue:r.addOtherDialog,"onUpdate:modelValue":n[5]||(n[5]=u=>r.addOtherDialog=u)},{default:a(u=>[e(J,null,{default:a(()=>[e(re,{color:"primary",dark:""},{default:a(()=>[c("Type Non-Google Translate Language")]),_:1}),e(ie,null,{default:a(()=>[V("div",ot,[e($,{modelValue:r.language,"onUpdate:modelValue":n[4]||(n[4]=s=>r.language=s),hint:"Enter Language Not supported by google translate",clearable:"",required:"",label:"Language"},null,8,["modelValue"])])]),_:1}),e(ce,{class:"justify-end"},{default:a(()=>[e(b,{text:"",onClick:s=>u.value=!1},{default:a(()=>[e(x,null,{default:a(()=>[c("mdi-close")]),_:1}),c(" Close ")]),_:2},1032,["onClick"]),e(de),e(b,{text:"",onClick:g.add},{default:a(()=>[e(x,null,{default:a(()=>[c("mdi-plus")]),_:1}),c(" Add ")]),_:1},8,["onClick"])]),_:2},1024)]),_:2},1024)]),_:1},8,["modelValue"]),e(A,null,{default:a(()=>[e(J,{class:"mx-auto","max-width":"500",tile:""},{default:a(()=>[e(ze,{"primary-title":""},{default:a(()=>[e(Q,null,{default:a(()=>[e(qe,{dark:"",color:"primary"},{default:a(()=>[e(x,null,{default:a(()=>[c("mdi-google-translate")]),_:1}),c(" Enabled Languages")]),_:1})]),_:1}),e(Q,null,{default:a(()=>[e(D,{cols:"5"},{default:a(()=>[st]),_:1}),e(D,{cols:"2"},{default:a(()=>[e(Z,{top:""},{activator:a(({on:u,attrs:s})=>[e(b,C({class:"mx-2",rounded:"",fab:"",dark:"",color:"indigo",small:"",onClick:g.getLanguages},s,W(u)),{default:a(()=>[e(x,null,{default:a(()=>[c("mdi-google-translate")]),_:1})]),_:2},1040,["onClick"])]),default:a(()=>[rt]),_:1})]),_:1}),e(D,{cols:"2"},{default:a(()=>[e(Z,{top:""},{activator:a(({on:u,attrs:s})=>[e(b,C({class:"mx-2",rounded:"",fab:"",dark:"",color:"indigo",small:"",onClick:n[6]||(n[6]=B=>r.addOtherDialog=!0)},s,W(u)),{default:a(()=>[e(x,null,{default:a(()=>[c("mdi-plus")]),_:1})]),_:2},1040)]),default:a(()=>[it]),_:1})]),_:1}),e(D,{cols:"2"},{default:a(()=>[e(Z,{top:""},{activator:a(({on:u,attrs:s})=>[e(b,C({class:"mx-2",rounded:"",fab:"",dark:"",color:"indigo",small:"",onClick:g.populateTexts},s,W(u)),{default:a(()=>[e(x,null,{default:a(()=>[c("mdi-publish")]),_:1})]),_:2},1040,["onClick"])]),default:a(()=>[ct]),_:1})]),_:1})]),_:1})]),_:1}),e(fe,{shaped:""},{default:a(()=>[e(O,{modelValue:r.selectedLocale,"onUpdate:modelValue":n[7]||(n[7]=u=>r.selectedLocale=u),color:"primary"},{default:a(()=>[(E(!0),ue(M,null,Ye(r.translatedLanguages,(u,s)=>(E(),U(ee,{key:s},{default:a(()=>[e(k,null,{default:a(()=>[e(Q,null,{default:a(()=>[e(D,null,{default:a(()=>[e(Je,{textContent:se(u.language),onClick:B=>g.selected(u)},null,8,["textContent","onClick"])]),_:2},1024),r.textExtractionStatus[u.locale].active?(E(),U(D,{key:0},{default:a(()=>[r.textExtractionStatus[u.locale].running?(E(),U(Qe,{key:0,color:"deep-purple accent-4",indeterminate:"",rounded:"",height:"6"})):X("",!0),r.textExtractionStatus[u.locale].displayStatus?(E(),U(x,{key:1},{default:a(()=>[c(" mdi-check ")]),_:1})):X("",!0)]),_:2},1024)):X("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})])}const gt=Ge($e,[["render",dt]]);export{gt as default};
